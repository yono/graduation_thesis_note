{% extends "note/base.html" %}
{% load select_date %}
{% block title %}
ノート編集
{% endblock title %}
{% block content %}
<h1>ノート編集</h1>
<p>{{note.user.username}} の研究ノートを編集する</p>

<form action='/note/note_update/{{note.id}}/' method="post">
<table>
<tr>
    <td>User_id</td>
    <td>{{note.user.id}}<input id="note_user_id" name="note_user_id" type="hidden"
        value="{{note.user.id}}" /></td>
</tr>

<tr>
<td><label>日付</label></td>
<td><select id="note_date_y" name="note_date_y">
{% for year in date_year %}
<option value="{{year.num}}" {{year.selected|safe}}>{{year.num}}</option>
{% endfor %}
</select>
<select id="note_date_m" name="note_date_m">
{% for month in date_month %}
<option value="{{month.num}}" {{month.selected|safe}}>{{month.num}}</option>
{% endfor %}
</select>
<select id="note_date_d" name="note_date_d">
{% for day in date_day %}
<option value="{{day.num}}" {{day.selected|safe}}>{{day.num}}</option>
{% endfor %}
</select>
</td>
</tr>

<tr>
<td><label>開始時刻</label></td>
<td><select id="note_start_y" name="note_start_y">
{% for year in start_year %}
<option value="{{year.num}}" {{year.selected|safe}}>{{year.num}}</option>
{% endfor %}
</select>
<select id="note_start_m" name="note_start_m">
{% for month in start_month %}
<option value="{{month.num}}" {{month.selected|safe}}>{{month.num}}</option>
{% endfor %}
</select>
<select id="note_start_d" name="note_start_d">
{% for day in start_day %}
<option value="{{day.num}}"{{day.selected|safe}}>{{day.num}}</option>
{% endfor %}
</select>
&mdash;
<select id="note_start_h" name="note_start_h">
{% for hour in start_hour %}
<option value="{{hour.num}}"{{hour.selected|safe}}>{{hour.num}}</option>
{% endfor %}
</select>
<select id="note_start_mi" name="note_start_mi">
{% for min in start_min %}
<option value="{{min.num}}" {{min.selected|safe}}>{{min.num}}</option>
{% endfor %}
</select>
</td>
</tr>

<tr>
<td><label>終了時刻</label></td>
<td><select id="note_end_y" name="note_end_y">
{% for year in end_year %}
<option value="{{year.num}}"{{year.selected|safe}}>{{year.num}}</option>
{% endfor %}
</select>
<select id="note_end_m" name="note_end_m">
{% for month in end_month %}
<option value="{{month.num}}"{{month.selected|safe}}>{{month.num}}</option>
{% endfor %}
</select>
<select id="note_end_d" name="note_end_d">
{% for day in end_day %}
<option value="{{day.num}}"{{day.selected|safe}}>{{day.num}}</option>
{% endfor %}
</select>
&mdash;
<select id="note_end_h" name="note_end_h">
{% for hour in end_hour %}
<option value="{{hour.num}}"{{hour.selected|safe}}>{{hour.num}}</option>
{% endfor %}
</select>
<select id="note_end_mi" name="note_end_mi">
{% for min in end_min %}
<option value="{{min.num}}"{{min.selected|safe}}>{{min.num}}</option>
{% endfor %}
</select>
</td>
</tr>

<tr>
<td><label>経過時間</label></td>
<td>
    <input id="hour" name="hour" size="5" type="text"
    value="{{elapsed_hour}}" />時間<input
    id="min" name="min" size="5" type="text" value="{{elapsed_min}}" />分
</td>
</tr>
    
<tr>
<td><label>タイトル</label></td>
<td>
    <input id="note_title" name="note_title" type="text" value="{{note.title}}" />
</td>
</tr>
    
<tr>
<td><label>内容</label></td>
<td>
    <textarea cols="70" id="note_content" name="note_content" rows="20">{{note.content}}</textarea>
</td>
</tr>

<tr>
<td><label>場所</label></td>
<td>
    <input id="note_locate" name="note_locate" size="10" type="text"
    value="{{note.locate}}" />
</td>
</tr>

<tr>
<td><label>Tag</label></td>
<td>
<input id="note_tag_list" name="note_tag_list" size="30" type="text" 
value="{% for tag in note.tag.all %}{{tag}},{% endfor %}"
/>
</td>
</tr>

</table>
<input name="commit" type="submit" value="Update" />
</form>

{% endblock content %}
